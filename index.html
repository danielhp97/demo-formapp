<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment Demo App</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide icons as inline SVGs
        const User = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
        );
        
        const BarChart3 = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
            </svg>
        );
        
        const TrendingUp = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
            </svg>
        );
        
        const Award = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
            </svg>
        );
        
        const ArrowLeft = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
        );

        function DemoApp() {
          const [currentPage, setCurrentPage] = useState('user');
          const [formData, setFormData] = useState({
            technical: '',
            communication: '',
            leadership: '',
            innovation: ''
          });
          const [scores, setScores] = useState(null);

          // Mock user data
          const userData = {
            name: "Alex Johnson",
            email: "alex.johnson@example.com",
            joinDate: "January 2024",
            totalAssessments: 12,
            pastScores: [
              { date: "Feb 10, 2025", technical: 85, communication: 92, leadership: 78, innovation: 88 },
              { date: "Jan 28, 2025", technical: 82, communication: 89, leadership: 75, innovation: 85 },
              { date: "Jan 15, 2025", technical: 79, communication: 87, leadership: 73, innovation: 82 }
            ]
          };

          const calculateScores = () => {
            // Simple scoring logic - convert responses to scores
            const scoreMapping = {
              technical: formData.technical.length * 5,
              communication: formData.communication.length * 4,
              leadership: formData.leadership.length * 6,
              innovation: formData.innovation.length * 5
            };

            // Cap at 100
            const calculatedScores = {
              technical: Math.min(100, scoreMapping.technical),
              communication: Math.min(100, scoreMapping.communication),
              leadership: Math.min(100, scoreMapping.leadership),
              innovation: Math.min(100, scoreMapping.innovation)
            };

            setScores(calculatedScores);
          };

          const handleSubmit = (e) => {
            e.preventDefault();
            calculateScores();
          };

          const getScoreColor = (score) => {
            if (score >= 80) return 'text-green-600';
            if (score >= 60) return 'text-yellow-600';
            return 'text-red-600';
          };

          const getAverageScore = (scoreObj) => {
            const values = Object.values(scoreObj);
            return Math.round(values.reduce((a, b) => a + b, 0) / values.length);
          };

          if (currentPage === 'user') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
                <div className="max-w-4xl mx-auto">
                  {/* Header */}
                  <div className="bg-white rounded-lg shadow-lg p-8 mb-6">
                    <div className="flex items-center gap-4 mb-6">
                      <div className="w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center">
                        <User className="w-10 h-10 text-white" />
                      </div>
                      <div>
                        <h1 className="text-3xl font-bold text-gray-900">{userData.name}</h1>
                        <p className="text-gray-600">{userData.email}</p>
                        <p className="text-sm text-gray-500">Member since {userData.joinDate}</p>
                      </div>
                    </div>

                    <div className="grid grid-cols-2 gap-4 mb-6">
                      <div className="bg-indigo-50 p-4 rounded-lg">
                        <div className="flex items-center gap-2 mb-2">
                          <BarChart3 className="w-5 h-5 text-indigo-600" />
                          <span className="text-sm font-medium text-gray-700">Total Assessments</span>
                        </div>
                        <p className="text-3xl font-bold text-indigo-600">{userData.totalAssessments}</p>
                      </div>
                      <div className="bg-green-50 p-4 rounded-lg">
                        <div className="flex items-center gap-2 mb-2">
                          <TrendingUp className="w-5 h-5 text-green-600" />
                          <span className="text-sm font-medium text-gray-700">Latest Average</span>
                        </div>
                        <p className="text-3xl font-bold text-green-600">
                          {getAverageScore(userData.pastScores[0])}
                        </p>
                      </div>
                    </div>

                    <button
                      onClick={() => setCurrentPage('query')}
                      className="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition"
                    >
                      Start New Assessment
                    </button>
                  </div>

                  {/* Past Scores */}
                  <div className="bg-white rounded-lg shadow-lg p-8">
                    <h2 className="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2">
                      <Award className="w-6 h-6 text-indigo-600" />
                      Past Assessments
                    </h2>

                    <div className="space-y-4">
                      {userData.pastScores.map((score, idx) => (
                        <div key={idx} className="border border-gray-200 rounded-lg p-4 hover:border-indigo-300 transition">
                          <div className="flex justify-between items-center mb-3">
                            <span className="text-sm text-gray-600">{score.date}</span>
                            <span className="text-lg font-bold text-indigo-600">
                              Avg: {getAverageScore(score)}
                            </span>
                          </div>
                          <div className="grid grid-cols-4 gap-3">
                            <div>
                              <p className="text-xs text-gray-500 mb-1">Technical</p>
                              <p className={`text-lg font-bold ${getScoreColor(score.technical)}`}>
                                {score.technical}
                              </p>
                            </div>
                            <div>
                              <p className="text-xs text-gray-500 mb-1">Communication</p>
                              <p className={`text-lg font-bold ${getScoreColor(score.communication)}`}>
                                {score.communication}
                              </p>
                            </div>
                            <div>
                              <p className="text-xs text-gray-500 mb-1">Leadership</p>
                              <p className={`text-lg font-bold ${getScoreColor(score.leadership)}`}>
                                {score.leadership}
                              </p>
                            </div>
                            <div>
                              <p className="text-xs text-gray-500 mb-1">Innovation</p>
                              <p className={`text-lg font-bold ${getScoreColor(score.innovation)}`}>
                                {score.innovation}
                              </p>
                            </div>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          if (currentPage === 'query') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 p-8">
                <div className="max-w-3xl mx-auto">
                  <button
                    onClick={() => setCurrentPage('user')}
                    className="mb-6 flex items-center gap-2 text-gray-700 hover:text-gray-900 transition"
                  >
                    <ArrowLeft className="w-5 h-5" />
                    Back to Profile
                  </button>

                  <div className="bg-white rounded-lg shadow-lg p-8">
                    <h1 className="text-3xl font-bold text-gray-900 mb-6">Assessment Form</h1>
                    
{!scores ? (
                      <form onSubmit={handleSubmit} className="space-y-6">
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">
                            Technical Skills
                          </label>
                          <textarea
                            value={formData.technical}
                            onChange={(e) => setFormData({...formData, technical: e.target.value})}
                            className="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            rows="3"
                            placeholder="Describe your technical expertise and recent projects..."
                            required
                          />
                        </div>

                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">
                            Communication
                          </label>
                          <textarea
                            value={formData.communication}
                            onChange={(e) => setFormData({...formData, communication: e.target.value})}
                            className="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            rows="3"
                            placeholder="How do you communicate complex ideas to different audiences..."
                            required
                          />
                        </div>

                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">
                            Leadership
                          </label>
                          <textarea
                            value={formData.leadership}
                            onChange={(e) => setFormData({...formData, leadership: e.target.value})}
                            className="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            rows="3"
                            placeholder="Share examples of when you led a team or initiative..."
                            required
                          />
                        </div>

                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">
                            Innovation
                          </label>
                          <textarea
                            value={formData.innovation}
                            onChange={(e) => setFormData({...formData, innovation: e.target.value})}
                            className="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                            rows="3"
                            placeholder="Describe innovative solutions you've developed..."
                            required
                          />
                        </div>

                        <button
                          type="submit"
                          className="w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition"
                        >
                          Calculate Scores
                        </button>
                      </form>
                    ) : (
                      <div className="flex flex-col items-center">
                        {/* FIFA-style Card */}
                        <div className="relative w-80 h-[500px] mb-8" style={{
                          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                          borderRadius: '20px',
                          boxShadow: '0 20px 60px rgba(0,0,0,0.3)',
                          padding: '20px',
                          transform: 'perspective(1000px) rotateY(0deg)',
                          transition: 'transform 0.3s ease'
                        }}>
                          {/* Card Header */}
                          <div className="text-center mb-4">
                            <div className="text-6xl font-black text-white mb-2" style={{
                              textShadow: '2px 2px 4px rgba(0,0,0,0.5)'
                            }}>
                              {getAverageScore(scores)}
                            </div>
                            <div className="text-sm font-bold text-white/90 uppercase tracking-wider">
                              Overall Rating
                            </div>
                          </div>

                          {/* Player Avatar */}
                          <div className="flex justify-center mb-4">
                            <div className="w-32 h-32 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border-4 border-white/40">
                              <User className="w-20 h-20 text-white" />
                            </div>
                          </div>

                          {/* Player Name */}
                          <div className="text-center mb-6">
                            <div className="text-2xl font-bold text-white mb-1" style={{
                              textShadow: '1px 1px 2px rgba(0,0,0,0.3)'
                            }}>
                              Alex Johnson
                            </div>
                            <div className="text-sm text-white/80 uppercase tracking-wide">
                              Professional
                            </div>
                          </div>

                          {/* Stats Grid */}
                          <div className="grid grid-cols-2 gap-3">
                            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20">
                              <div className="text-xs text-white/70 uppercase tracking-wide mb-1">TEC</div>
                              <div className="text-3xl font-bold text-white">{scores.technical}</div>
                              <div className="text-xs text-white/80 mt-1">Technical</div>
                            </div>
                            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20">
                              <div className="text-xs text-white/70 uppercase tracking-wide mb-1">COM</div>
                              <div className="text-3xl font-bold text-white">{scores.communication}</div>
                              <div className="text-xs text-white/80 mt-1">Communication</div>
                            </div>
                            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20">
                              <div className="text-xs text-white/70 uppercase tracking-wide mb-1">LEA</div>
                              <div className="text-3xl font-bold text-white">{scores.leadership}</div>
                              <div className="text-xs text-white/80 mt-1">Leadership</div>
                            </div>
                            <div className="bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/20">
                              <div className="text-xs text-white/70 uppercase tracking-wide mb-1">INN</div>
                              <div className="text-3xl font-bold text-white">{scores.innovation}</div>
                              <div className="text-xs text-white/80 mt-1">Innovation</div>
                            </div>
                          </div>

                          {/* Card Footer Badge */}
                          <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2">
                            <div className="bg-yellow-400 text-yellow-900 px-4 py-1 rounded-full text-xs font-bold uppercase tracking-wider shadow-lg">
                              {getAverageScore(scores) >= 85 ? 'Elite' : getAverageScore(scores) >= 70 ? 'Pro' : 'Rising Star'}
                            </div>
                          </div>
                        </div>

                        {/* Action Buttons */}
                        <div className="flex gap-4 w-full max-w-md">
                          <button
                            onClick={() => {
                              setScores(null);
                              setFormData({ technical: '', communication: '', leadership: '', innovation: '' });
                            }}
                            className="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition"
                          >
                            New Assessment
                          </button>
                          <button
                            onClick={() => setCurrentPage('user')}
                            className="flex-1 bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition"
                          >
                            Back to Profile
                          </button>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          }
        }

        ReactDOM.render(<DemoApp />, document.getElementById('root'));
    </script>
</body>
</html>
